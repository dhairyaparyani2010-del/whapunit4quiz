<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>WHAP Unit 4 Ultimate Review</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
/* Custom Styles */
body{font-family:'Inter',sans-serif;background:linear-gradient(to bottom,#fef3c7,#fde68a);}
header h1{background:linear-gradient(90deg,#7c3aed,#4338ca,#2563eb);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
.option-button{transition:all 0.3s;cursor:pointer;border-radius:1rem;padding:1rem 1.5rem;font-weight:600;text-align:left;background:linear-gradient(135deg,#8b5cf61a,#4f46e51a);color:#374151;border:2px solid #a78bfa;box-shadow:0 4px 10px rgba(0,0,0,0.05);}
.option-button:hover{transform:translateY(-2px) scale(1.01);background:linear-gradient(135deg,#8b5cf640,#4f46e540);}
.selected-option{border:3px solid #10b981;background:linear-gradient(135deg,#34d399,#10b981);color:white;box-shadow:0 6px 15px rgba(16, 185, 129, 0.4);}
.correct-answer{background:linear-gradient(135deg,#6ee7b7,#10b981,#059669);border:3px solid #059669;color:white;font-weight:700;}
.incorrect-answer{background:linear-gradient(135deg,#fca5a5,#ef4444,#b91c1c);border:3px solid #b91c1c;color:white;text-decoration:line-through;}
.flashcard{border-radius:1rem;padding:1rem 1.5rem;transition:all 0.4s ease-in-out;background:linear-gradient(135deg,#fef9c3,#fcd34d);border:2px solid #fbbf24;cursor:pointer;font-weight:600;min-height:100px;display:flex;align-items:center;justify-content:center;text-align:center;box-shadow:0 4px 6px rgba(0,0,0,0.05);}
.flashcard:hover{transform:scale(1.03);box-shadow:0 8px 15px rgba(0,0,0,0.2);}
.flashcard.flipped{background:linear-gradient(135deg,#fde68a,#f59e0b);color:black;font-weight:500;font-size:0.9rem;}
textarea{border:2px solid #4f46e5;border-radius:0.75rem;padding:0.75rem;width:100%;resize:vertical;min-height:150px;}
#feedback-area{padding:1.5rem;border-radius:1.5rem;margin-top:1rem;display:none; transition: all 0.5s;}
#feedback-area.correct{background:linear-gradient(135deg,#d1fae5,#6ee7b7);border:1px solid #10b981;}
#feedback-area.saq-model{background:linear-gradient(135deg,#e0f2fe,#93c5fd);border:1px solid #3b82f6;}
</style>
</head>
<body class="p-4 md:p-8">

<div id="app" class="max-w-6xl mx-auto bg-white rounded-2xl shadow-2xl p-6 md:p-10 border border-gray-100">
<header class="mb-8 pb-4 border-b border-gray-200">
<h1 class="text-5xl font-extrabold text-center">WHAP Unit 4 Ultimate Review</h1>
<p class="text-gray-600 mt-2 text-center text-lg">Transoceanic Interconnections (c. 1450 - c. 1750)</p>
</header>

<div class="mb-8 p-4 bg-blue-50 rounded-2xl shadow-md border border-blue-200 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">
<div class="flex items-center space-x-4">
<label for="mode-selector" class="block text-lg font-medium text-blue-800">Review Mode:</label>
<select id="mode-selector" onchange="resetApp()" class="pl-3 pr-10 py-2 text-base border-gray-300 rounded-lg shadow-inner focus:ring-blue-500 focus:border-blue-500">
<option value="MCQ" selected>MCQ (Multiple Choice)</option>
<option value="SAQ">SAQ (Short Answer)</option>
</select>
</div>
<div class="text-center md:text-right">
<p class="text-xl font-semibold text-blue-800">Current Focus: <span id="active-topic-display" class="font-bold text-blue-600">Loading...</span></p>
<p id="mcq-score-display" class="text-3xl font-bold text-gray-700 mt-1">Score: <span id="current-score" class="text-green-600">0</span></p>
<button onclick="resetApp(true)" class="mt-1 text-sm text-red-500 hover:text-red-700 transition font-semibold">Reset Score & Questions</button>
</div>
</div>

<div class="question-card border border-gray-300 rounded-2xl p-6 mb-6 shadow-xl bg-white">
<h2 id="question-text" class="text-xl md:text-2xl font-bold text-gray-900 mb-6 min-h-20"></h2>
<div id="dynamic-content-area" class="flex flex-col gap-4"></div>
<div class="flex justify-start space-x-4 mt-6">
<button id="submit-button" onclick="submitAnswer()" class="px-8 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-bold rounded-2xl shadow-lg transition duration-200 hidden">Submit Answer</button>
<button id="next-button" onclick="loadNewQuestion()" class="px-8 py-3 bg-gradient-to-r from-green-500 to-teal-500 hover:from-green-600 hover:to-teal-600 text-white font-bold rounded-2xl shadow-lg transition duration-200 hidden">Next Question</button>
</div>
<div id="feedback-area"></div>
</div>

<div class="mt-8 p-6 bg-yellow-50 rounded-2xl shadow-inner border border-yellow-300">
<h3 class="text-3xl font-bold text-yellow-800 mb-5">Key Vocabulary Flashcards (1450–1750)</h3>
<div id="flashcards-container" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>
</div>

<div class="mt-8 text-center text-gray-500 font-semibold border-t pt-4">© 2025 WHAP Review Tool | Designed by Dhairya</div>

<script>
// DATA
const vocabData = {
"Caravel":"A small, maneuverable Portuguese ship with triangular sails.",
"Astrolabe":"Instrument for navigation to determine latitude by stars.",
"Joint-stock Company":"Business entity selling shares to investors.",
"Mercantilism":"Economic theory encouraging export surplus.",
"Columbian Exchange":"Transfer of goods, people, and diseases between Old and New Worlds.",
"Chattel Slavery":"Enslaved people treated as property.",
"Mit'a System":"Mandatory labor system adapted by Spanish for silver mining.",
"Vodun (Voodoo)":"Syncretic religion blending African and Catholic beliefs.",
"Encomienda System":"Spanish colonial labor system for natives.",
"Potosí":"Major silver mine in modern Bolivia.",
"Triangular Trade":"Trade network between Europe, Africa, Americas.",
"Devshirme":"Ottoman system to recruit Christian boys for military."
};

const quizData = {
"4.1":["Which tech innovation allowed ships to sail against the wind?","The magnetic compass","Lateen sail & caravel","Sextant","Mercury thermometer",1],
"4.3":["Impact of silver from Potosí?","Immediate deflation","Funded Spanish expansion & stimulated Chinese economy","Collapsed Mughal Empire","Shifted manufacturing to Spain",1],
"4.4":["Purpose of joint-stock companies?","Guarantee monopoly","Spread financial risk","Democracy","Free-market capitalism",1],
"4.5":["Immediate effect of Columbian Exchange on Americas?","Nutrition boom","Introduction of horse","Population decline from disease","Adoption of Confucianism",2],
"4.6":["Why are Ottoman, Safavid, Mughal called Gunpowder Empires?","Massive cavalry","Centralized empires with firearms","Western politics","Saltpeter wars",1],
"4.7":["Shift to African chattel slavery reason?","Spanish ban","New sailing tech","Indigenous mortality","Gold in Africa",2]
};

const SAQ = [
{
question:"Analyze role of commodities 1450–1750 (A: silver, B: cash crops, C: demographic).",
model:{A:"Silver flowed to Asia & Europe, stimulating economy.",B:"Cash crops like sugar/tobacco drove plantations.",C:"Forced African migration & Native population decline."}
}
];

let currentQuestion = null;
let score = 0;

// FUNCTIONS
function renderFlashcards(){
const container = document.getElementById('flashcards-container');
container.innerHTML = '';
for(const word in vocabData){
const div=document.createElement('div');
div.className='flashcard';
div.innerText=word;
let flipped=false;
div.onclick=()=>{flipped=!flipped;div.innerText=flipped?vocabData[word]:word;div.classList.toggle('flipped');};
container.appendChild(div);
}
}

function loadNewQuestion(){
const mode=document.getElementById('mode-selector').value;
const area=document.getElementById('dynamic-content-area');
const feedback=document.getElementById('feedback-area');
area.innerHTML='';feedback.style.display='none';feedback.className='';
document.getElementById('submit-button').style.display='none';
document.getElementById('next-button').style.display='none';

if(mode==="SAQ"){
currentQuestion=SAQ[0];
document.getElementById('question-text').innerText=currentQuestion.question;
document.getElementById('active-topic-display').innerText='SAQ Review';
area.innerHTML='<p class="text-gray-600 italic mb-4 p-3 bg-yellow-100 rounded-lg border border-yellow-200">Type answer in box then reveal model answer.</p>';
const ta=document.createElement('textarea');ta.id='saq-user-response';ta.placeholder='Type your SAQ response (A. ... B. ... C. ...)';area.appendChild(ta);
const btn=document.createElement('button');btn.className='px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-bold rounded-2xl shadow-lg mt-4 transition duration-200';
btn.innerText='Reveal Model Answer & Grade';btn.onclick=showModelAnswer;area.appendChild(btn);
}else{
const keys=Object.keys(quizData);const q=keys[Math.floor(Math.random()*keys.length)];currentQuestion=quizData[q];
document.getElementById('question-text').innerText=currentQuestion[0];
document.getElementById('active-topic-display').innerText=q;
for(let i=1;i<=4;i++){
const btn=document.createElement('button');btn.className='option-button';btn.innerText=currentQuestion[i];btn.setAttribute('data-index',i-1);
btn.onclick=()=>{
document.querySelectorAll('.option-button').forEach(b=>b.classList.remove('selected-option'));
btn.classList.add('selected-option');document.getElementById('submit-button').style.display='inline-block';
};
area.appendChild(btn);
}
}
}

function submitAnswer(){
const sel=document.querySelector('.option-button.selected-option');
if(!sel){alert('Select an option first!');return;}
document.querySelectorAll('.option-button').forEach(b=>b.onclick=null);
const index=parseInt(sel.getAttribute('data-index'));
const feedback=document.getElementById('feedback-area');
if(index===currentQuestion[5]){sel.classList.add('correct-answer');score++;feedback.className='p-4 rounded-2xl mt-2 correct';feedback.innerHTML='<h4 class="font-bold text-lg mb-1">✅ Correct!</h4>';}else{sel.classList.add('incorrect-answer');const correct=document.querySelector(`.option-button[data-index="${currentQuestion[5]}"]`);correct.classList.add('correct-answer');feedback.className='p-4 rounded-2xl mt-2 incorrect';feedback.innerHTML='<h4 class="font-bold text-lg mb-1">❌ Incorrect.</h4>';}
document.getElementById('current-score').innerText=score;
document.getElementById('submit-button').style.display='none';
document.getElementById('next-button').style.display='inline-block';
feedback.style.display='block';
}

function showModelAnswer(){
const feedback=document.getElementById('feedback-area');feedback.style.display='block';feedback.className='p-4 rounded-2xl mt-2 saq-model';
feedback.innerHTML=`<h4 class="text-xl font-bold mb-3 text-blue-900 border-b pb-2">Model SAQ Response:</h4>
<div class="space-y-4"><div class="p-3 bg-blue-100 rounded-lg"><strong>(A)</strong> ${SAQ[0].model.A}</div>
<div class="p-3 bg-blue-100 rounded-lg"><strong>(B)</strong> ${SAQ[0].model.B}</div>
<div class="p-3 bg-blue-100 rounded-lg"><strong>(C)</strong> ${SAQ[0].model.C}</div></div>
<button onclick="loadNewQuestion()" class="mt-5 px-6 py-2 bg-green-700 hover:bg-green-800 text-white font-bold rounded-2xl shadow-md transition">Next Question</button>`;
}

function resetApp(full=false){if(full){score=0;document.getElementById('current-score').innerText=0;}loadNewQuestion();}

// INIT
renderFlashcards();loadNewQuestion();
</script>

</body>
</html>
